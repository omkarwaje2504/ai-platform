(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{5539:function(e,t,s){Promise.resolve().then(s.bind(s,8852))},572:function(e,t,s){"use strict";s.d(t,{GP:function(){return n},U0:function(){return l},vz:function(){return a}});let a=async()=>{try{let e=await fetch("".concat("https://pixpro.app/api","/project/").concat("96nlo7no","/info"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(e.ok)return await e.json()}catch(e){console.log(e)}},l=async e=>{if(!e)return{success:!1,message:"Employee code cannot be empty or undefined."};try{let t=await fetch("".concat("https://pixpro.app/api","/employee/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({project_hash:"96nlo7no",code:e})});if(!t.ok)throw Error("Login failed with status: ".concat(t.status));let s=await t.json();return{success:!0,data:s.data}}catch(e){return console.error("Login Error:",e.message),{success:!1,message:e.message}}},n=async e=>{if(!e)return{success:!1,message:"Employee code cannot be empty or undefined."};try{let t=await fetch("".concat("https://pixpro.app/api","/employee/").concat(e,"/contact/list"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!t.ok)return{success:!1,message:"Failed to fetch doctors."};let s=await t.json();return{success:!0,data:s.data}}catch(e){return{success:!1,message:"Failed to fetch doctors."}}}},8852:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var a=s(7437),l=s(572),n=s(3145),o=s(2265),i=s(9376),c=s(409);function r(){var e;let[t,s]=(0,o.useState)(null),[r,d]=(0,o.useState)(null),[m,u]=(0,o.useState)(null),p=(0,i.useRouter)();return(0,o.useEffect)(()=>{(async()=>{let e=localStorage.getItem("employeeData"),t=localStorage.getItem("projectInfo");if(e&&s(JSON.parse(e)),e||p.push("/"),t&&d(JSON.parse(t)),e&&t){let t=JSON.parse(e).hash;try{let e=await (0,l.GP)(t);e&&u(e.data)}catch(e){console.error("Error fetching doctors:",e)}}})()},[p]),(0,a.jsx)(c.default,{children:(0,a.jsxs)("div",{className:"min-h-screen py-6 flex flex-col sm:py-12 z-20 px-4",children:[(0,a.jsxs)("button",{className:"flex items-center justify-end font-medium",onClick:()=>{localStorage.clear(),p.push("/")},children:[(0,a.jsx)(n.default,{src:"/logout-button.png",alt:"Logout Icon",width:20,height:20,className:"cursor-pointer mr-1",onClick:()=>{localStorage.removeItem("employeeData"),localStorage.removeItem("projectInfo"),p.push("/")}})," ","Logout"]}),(0,a.jsxs)("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto mt-4",style:{zIndex:1},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-sky-500 shadow-lg transform skew-y-3 sm:skew-y-0 rounded-3xl"}),(0,a.jsx)("div",{className:"relative px-4 py-2 bg-white shadow-lg rounded-3xl sm:p-10",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-16",children:(0,a.jsx)(n.default,{src:"/profile.png",alt:"MR Profile Image",width:0,height:0,sizes:"100ww",className:"w-full"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-md font-semibold",children:null==t?void 0:t.name}),(0,a.jsxs)("p",{className:"text-xs",children:[(null==t?void 0:t.designation)?(0,a.jsx)("span",{className:"text-white bg-blue-400 px-2 rounded-full py-0.5",children:null==t?void 0:t.designation}):""," ","Code: ",null==t?void 0:t.code]})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"mt-2 font-semibold text-gray-800",children:"Total Doctors Added"}),(0,a.jsx)("p",{className:"text-3xl font-semibold text-sky-600",children:(null==m?void 0:m.length)||0})]})]})})]}),(0,a.jsx)("div",{className:"mt-6 mx-auto relative",style:{zIndex:20},children:(0,a.jsx)("button",{className:"font-semibold text-white text-xl px-2 addbutton border-4 border-white rounded-full drop-shadow-lg",children:(null==r?void 0:null===(e=r.texts)||void 0===e?void 0:e.add_new_button)||"Add New Doctor"})}),(0,a.jsx)("div",{children:(null==m?void 0:m.length)<=0?(0,a.jsx)("div",{className:"w-full h-full  flex justify-center items-center",children:(0,a.jsx)("div",{className:"pyramid-loader",children:(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("span",{className:"side side1"}),(0,a.jsx)("span",{className:"side side2"}),(0,a.jsx)("span",{className:"side side3"}),(0,a.jsx)("span",{className:"side side4"}),(0,a.jsx)("span",{className:"shadow"})]})})}):(0,a.jsxs)("div",{className:"overflow-y-scroll",children:[(0,a.jsx)("h3",{className:"text-xm border-b pb-1 mt-4 text-gray-500 font-medium",children:"Doctor List"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4 overflow-y-scroll h-[25rem] md:h-[40rem] pb-20",children:null==m?void 0:m.map((e,t)=>(0,a.jsxs)("div",{className:"items-center justify-between p-2 flex flex-col bg-white border-2 border-gray-200 rounded-2xl",children:[(0,a.jsxs)("div",{className:"items-center flex flex-col",children:[(0,a.jsx)(n.default,{src:"/profile.png",width:80,height:80}),(0,a.jsx)("h4",{className:"font-semibold text-center leading-4 text-sm",children:null==e?void 0:e.name}),(0,a.jsx)("p",{className:"text-xs",children:null==e?void 0:e.mobile})]}),(0,a.jsx)("button",{className:"bg-indigo-600 text-white text-sm rounded-lg mt-2 py-1 w-full",children:"Update Details"})]},t))})]})}),(0,a.jsx)(n.default,{src:"/background-element-1.webp",width:0,height:0,sizes:"100vw",alt:"background element",className:"h-[100%] w-fit md:w-[100%] absolute top-0 right-0 opacity-55 animate-pulse md:opacity-30",style:{zIndex:-1}})]})})}},409:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7437),l=s(1269);function n(e){let{children:t}=e;return(0,a.jsx)(l.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{ease:"easeInOut",duration:.75},children:t})}}},function(e){e.O(0,[269,785,971,117,744],function(){return e(e.s=5539)}),_N_E=e.O()}]);